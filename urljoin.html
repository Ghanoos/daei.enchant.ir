<!DOCTYPE html>
<html dir="rtl" lang="fa">
  
  <head><meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="author" content="مهدی صادقی" />
<meta name="copyright" content="Commons Attribution 4.0 International" />
<meta name="robot" content="" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="description" content="سکوی انتشار مطالبی در مورد دانش تولید نرم‌افزار و ایده‌ها و علایق شخصی‌ام." />

<link rel="canonical" href="https://mehdix.ir/publishing-with-jekyll.html" />
<link rel="icon" href="https://mehdix.ir/assets/img/me.png" />
<link rel="stylesheet" href="https://mehdix.ir/assets/css/main.css" />
<link rel="stylesheet" href="https://mehdix.ir/assets/fonts/fontawesomev5.0.2.css" />
<meta name="keywords" content='جکیل,پلاگین' /><title>یک پلاگین دیگر برای جکیل - مهدی صادقی</title><!-- Begin Jekyll SEO tag v2.4.0 -->
<title>یک پلاگین دیگر برای جکیل | مهدی صادقی</title>
<meta name="generator" content="Jekyll v3.7.2" />
<meta property="og:title" content="یک پلاگین دیگر برای جکیل" />
<meta name="author" content="مهدی صادقی" />
<meta property="og:locale" content="fa_IR" />
<meta name="description" content="از جایی که وبسایتم رو تحت یک زیردامنه نیز منتشر می‌کنم مشکلی با تولید لینک‌ها در جکیل داشتم که برایش یک پلاگین ساده نوشتم." />
<meta property="og:description" content="از جایی که وبسایتم رو تحت یک زیردامنه نیز منتشر می‌کنم مشکلی با تولید لینک‌ها در جکیل داشتم که برایش یک پلاگین ساده نوشتم." />
<link rel="canonical" href="https://mehdix.ir/urljoin.html" />
<meta property="og:url" content="https://mehdix.ir/urljoin.html" />
<meta property="og:site_name" content="مهدی صادقی" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2014-12-28T00:00:00+01:00" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@msadeghii" />
<meta name="twitter:creator" content="@مهدی صادقی" />
<script type="application/ld+json">
{"@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://mehdix.ir/urljoin.html"},"url":"https://mehdix.ir/urljoin.html","author":{"@type":"Person","name":"مهدی صادقی"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://mehdix.ir/assets/img/me.png"},"name":"مهدی صادقی"},"description":"از جایی که وبسایتم رو تحت یک زیردامنه نیز منتشر می‌کنم مشکلی با تولید لینک‌ها در جکیل داشتم که برایش یک پلاگین ساده نوشتم.","headline":"یک پلاگین دیگر برای جکیل","dateModified":"2014-12-28T00:00:00+01:00","datePublished":"2014-12-28T00:00:00+01:00","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  </head>

  <body><header>
  <div class="wrapper">
    <a class="site-title" href="https://mehdix.ir/">مهدی صادقی</a>
    <small id="motto"> در مورد نرم‌افزار و ایده‌هایم </small>
  </div>
</header>
<main>
      <div class="wrapper">

<article class="post-content">

  <div class="post-header">
    <h1 class="post-title">یک پلاگین دیگر برای جکیل</h1>
    <p>
      <i class="fas fa-calendar"></i>
      یک‌شنبه ۰۷ دی ۱۳۹۳<br>
      
      <i class="fas fa-stopwatch"></i>
      ۱ دقیقه مطالعه
    </p>
  </div>

  <p>از جایی که وبسایتم رو تحت <a href="https://mehdix.org/fa">یک زیردامنه</a> نیز منتشر می‌کنم مشکلی با تولید لینک‌ها در جکیل داشتم که برایش یک <a href="https://github.com/mehdisadeghi/mehdix.ir/blob/master/_plugins/urljoin.rb">پلاگین</a> ساده نوشتم.</p>

<p>مشکل اینجا بود که وقتی مقدار <code class="highlighter-rouge">baseurl</code> رو در فایل تنظیمات سایت تغییر می‌دادم بعضی از لینک‌ها با دو تا <code class="highlighter-rouge">/</code> تولید می‌شدند. با نگاه به کدهای سایت دیدم که ‏<a href="https://github.com/Shopify/liquid/wiki/Liquid-for-Designers#standard-filters">لیکوئید</a> تعدادی فیلتر ساده داره که در جکیل هم استفاده شده اما فیلتر خاصی برای متصل کردن لینک‌ها نداره. چنین فیلتری از اون جهت می‌تونه مفید باشه که سردرد طراح سایت رو کم می‌کنه و دیگه لازم نیست دائم کنترل کنیم که آیا لینک درست تولید شده یا نه. بنابراین من یک فیلتر برای لیکوئید نوشتم:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">module</span> <span class="nn">Jekyll</span>
  <span class="k">module</span> <span class="nn">URLJoinFilter</span>
    <span class="k">def</span> <span class="nf">urljoin</span><span class="p">(</span><span class="n">first</span><span class="p">,</span> <span class="n">second</span><span class="p">)</span>
      <span class="no">File</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">first</span><span class="p">,</span> <span class="n">second</span><span class="p">)</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="no">Liquid</span><span class="o">::</span><span class="no">Template</span><span class="p">.</span><span class="nf">register_filter</span><span class="p">(</span><span class="no">Jekyll</span><span class="o">::</span><span class="no">URLJoinFilter</span><span class="p">)</span>
</code></pre></div></div>

<p>حالا من در کدم می‌تونم از این فیلتر به سادگی استفاده کنم:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"post-link"</span> <span class="na">href=</span><span class="s">"{{ site.baseurl | urljoin: post.url}}"</span><span class="nt">&gt;</span>{{ post.title }}<span class="nt">&lt;/a&gt;</span>

</code></pre></div></div>

<p>من کد پلاگین رو در فولدر <code class="highlighter-rouge">_plugins</code> در داخل فایل‌های سایتم قرار دادم که موقع بیلد کردن سایت کار خودش رو انجام می‌ده.</p>


  
    <div id="related-posts">
      <h3>مطالب مرتبط</h3>
      <ul>
        
          <li><a href="/build-faster.html">بیلد سریع‌تر وبسایت</a></li>
        
          <li><a href="/theme-rework.html">دوباره‌نویسی تم وبسایت</a></li>
        
          <li><a href="/seo.html">افزودن متادیتا به تم وبسایت</a></li>
        
          <li><a href="/merciless-simplification.html">کاهش زمان بیلد به کمک پروفایلر</a></li>
        
          <li><a href="/jekyll-theme.html">انتشار قالب جکیلِ وبسایت</a></li>
        
        </ul>
    </div>
  

  <small id="post-tags">
    
      <i class="fas fa-tag"></i>
      <a rel="tag" href="/tag/%D8%AC%DA%A9%DB%8C%D9%84.html">جکیل</a>
    
      <i class="fas fa-tag"></i>
      <a rel="tag" href="/tag/%D9%BE%D9%84%D8%A7%DA%AF%DB%8C%D9%86.html">پلاگین</a>
    

    <i class="fas fa-code"></i>
    
    
    <a href="https://raw.githubusercontent.com/mehdisadeghi/mehdix.ir/master/_source/_posts/2014-12-28-urljoin.md">سورس</a>
    
  </small>

  <nav class="pagination">
    
      <a href="https://mehdix.ir/rosetta-mission.html" class="pagination--pager" title="ماموریت روزتا">قبلی</a>
    

    
      <a href="https://mehdix.ir/kramdown.html" class="pagination--pager" title="kramdown">بعدی </a>
    
  </nav>

  <section>
    
      
<section id="static-comments">
  
  
  
  <h4 id="comments-header">دیدگاه‌ها</h4>
  <div id="comments">
    
    <div class="comment-chain">
      <article id="1886825100">
        <div class="comment-image-wrapper">
          <img class="comment-avatar" src="https://www.gravatar.com/avatar/73431568794bd527533834e6cd633130?s=200&d=robohash" />
        </div>
        <div class="comment-body-wrapper">
          <span class="comment-meta">
            <small>
              
                <a href=https://disqus.com/by/sajadrb/ target="_"><span commenter>sajadrb</span></a>
              
            </small>
            <small> &nbsp; <a href="#1886825100">۱۳ اسفند ۱۳۹۳</a></small>
            <small> &nbsp; <a href="#comment-form" onclick="replyTo('1886825100')">پاسخ</a></small>
            <span style="display:none" commentId>1886825100</span>
          </span>
          <p>سلام
چجوری میشه Jekyll رو تنظیم کرد که مطالب رو راست به چپ نشون بده؟</p>

        </div>
      </article>

        

    </div>
    
    <div class="comment-chain">
      <article id="1887025852">
        <div class="comment-image-wrapper">
          <img class="comment-avatar" src="https://www.gravatar.com/avatar/9a6fe434e31c7dd56d09ac05da2bee36?s=200&d=robohash" />
        </div>
        <div class="comment-body-wrapper">
          <span class="comment-meta">
            <small>
              
                <a href=https://disqus.com/by/mehdisadeghi/ target="_"><span commenter>Mehdi Sadeghi</span></a>
              
            </small>
            <small> &nbsp; <a href="#1887025852">۱۳ اسفند ۱۳۹۳</a></small>
            <small> &nbsp; <a href="#comment-form" onclick="replyTo('1887025852')">پاسخ</a></small>
            <span style="display:none" commentId>1887025852</span>
          </span>
          <p>جکیل تنظیمی نداره، باید خودت قالب رو اصلاح کنی. سورس همین سایت رو تو گیت‌هابم ببین.http://goo.gl/K3iXOA</p>

        </div>
      </article>

        

    </div>
    
  </div>
  

  <form id="comment-form" name="comment" netlify-honeypot="bot-field" netlify>
    <input name="bot-field" style="display:none">
    <input name="page_id" style="display:none" value="/urljoin">
    <input id="reply-to" name="reply-to" style="display:none">
    <label for="message">دیدگاه<sup class="required">*</sup> &nbsp;<small>می‌توانید با <a href="http://commonmark.org/help/" target="_">مارک‌داون</a> هم بنویسید.</small><br><small id="replyToVisualClue"></small>
      <textarea id="message" name="message" required alt="no!!" onkeyup="preview()"></textarea>
      <div id="preview"></div>
    </label>
    <label for="name">نام<sup class="required">*</sup>
      <input id="name" type="text" name="name" required>
    </label>
    <label for="email">ایمیل<sup class="required">*</sup>
      <input id="email" type="email" name="email" required>
    </label>
    <label for="website">وبسایت
      <input id="website" type="url" name="website">
    </label>
    <div style="text-align:left">
      <button type="submit" class="button">ارسال</button>
    </div>
  </form>

</section>
<script src="https://mehdix.ir/assets/js/showdown.min.js" type="text/javascript">
</script>
<script type="text/javascript">
  function preview() {
    var converter = new showdown.Converter();
    var markdown = document.getElementById("message").value;
    document.getElementById("preview").innerHTML = converter.makeHtml(markdown);
  }

  function replyTo(commentID) {
    var comment = document.getElementById(commentID);
    document.getElementById("reply-to").value = comment.querySelector("span[commentId]").innerText;
    document.getElementById("replyToVisualClue").innerText = "[در جواب " + comment.querySelector("span[commenter]").innerText + "]";
  }
</script>
    
  </section>

</article>
</div>
    </main><footer>

  <div class="wrapper">

    

    <p id="footer-description">بچه که بودیم همیشه برای بازی خونه می‌ساختیم. حالا هم نمونه‌اش رو در وب ساختم. اینجا سکوی انتشار مطالبی در مورد دانش تولید نرم‌افزار و ایده‌ها و علایق شخصی‌ام است، بویژه راه‌حل‌های مهندسی که باعث رشد و پیشرفتم شده است و می‌تواند مورد استفاده دیگران هم قرار بگیرد.
</p>

    <ul class="social-media-list">
      
      <li>
        <i class="fab fa-github"></i>
        <a href="https://github.com/mehdisadeghi">
          <span class="username social-media-text">پروژه‌ها</span>
        </a>
      </li>
      
      
      <li>
        <i class="fab fa-twitter-square"></i>
        <a href="https://twitter.com/msadeghii">
          <span class="username social-media-text">توئیت‌ها</span>
        </a>
      </li>
      
      
      <li>
        <i class="fas fa-rss"></i>
        <a href="https://feedburner.google.com/fb/a/mailverify?uri=mehdixir&amp;loc=en_US">
          <span class="username social-media-text">خبرنامه</span></a>
      </li>
      <li>
        <i class="fas fa-rss"></i>
        <a href="http://feeds.feedburner.com/mehdixir">
        <span class="username social-media-text">خوراک</span></a>
      </li>
      
      
        <li>
          <i class="fas fa-envelope-open"></i>
          <a href="mailto:sadeghi@mehdix.org">
            <span class="username social-media-text">تماس</span></a></li>
      
    </ul>

  <div id="footer-extra">
    <small id="license">
  <i class="fab fa-creative-commons"></i>
  مطالب این وبلاگ تحت مجوز
  <a rel="license" href="http://creativecommons.org/licenses/by/4.0/deed.fa">
    کریتیو کامنز اتریبیوشن ۴.۰ اینترنشنال
  </a>قرار دارد.
</small>
    <a id="atom" href="https://validator.w3.org/feed/check.cgi?url=https://mehdix.ir/feed.xml"><img src=https://mehdix.ir/assets/img/valid-atom.png alt="[Valid Atom 1.0]" title="Validate my Atom 1.0 feed" /></a>
  </div>

  </div>

  <small id="build-time">Site generated on Tue, 06 Feb 2018 02:43:37 +0100</small>

</footer><script src="https://mehdix.ir/assets/js/main.js"></script>
     <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-57282325-1', 'auto');
  ga('send', 'pageview');

</script>
 
  </body>
</html>