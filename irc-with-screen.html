<!DOCTYPE html>
<html dir="rtl" lang="fa">
  
  <head><meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="author" content="مهدی صادقی" />
<meta name="copyright" content="Commons Attribution 4.0 International" />
<meta name="robot" content="" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="description" content="سکوی انتشار مطالبی در مورد دانش تولید نرم‌افزار و ایده‌ها و علایق شخصی‌ام." />

<link rel="canonical" href="https://mehdix.ir/publishing-with-jekyll.html" />
<link rel="icon" href="https://mehdix.ir/assets/img/me.png" />
<link rel="stylesheet" href="https://mehdix.ir/assets/css/main.css" />
<link rel="stylesheet" href="https://mehdix.ir/assets/fonts/fontawesomev5.0.2.css" />
<meta name="keywords" content='چت,irc,اسکرین,screen' /><title>پروتکل چت اینترنت و اسکرین - مهدی صادقی</title><!-- Begin Jekyll SEO tag v2.4.0 -->
<title>پروتکل چت اینترنت و اسکرین | مهدی صادقی</title>
<meta name="generator" content="Jekyll v3.7.2" />
<meta property="og:title" content="پروتکل چت اینترنت و اسکرین" />
<meta name="author" content="مهدی صادقی" />
<meta property="og:locale" content="fa_IR" />
<meta name="description" content="من دوست دارم که در کانال‌های IRC پروژه‌های اینترنتی مورد علاقه‌ام حاضر شوم و از برنامه‌نویسان و کاربران آن پروژه‌ها برای شروع کار و رفع مشکلاتم کمک بگیرم. این نوشته در مورد ابزار انجام اینکار است." />
<meta property="og:description" content="من دوست دارم که در کانال‌های IRC پروژه‌های اینترنتی مورد علاقه‌ام حاضر شوم و از برنامه‌نویسان و کاربران آن پروژه‌ها برای شروع کار و رفع مشکلاتم کمک بگیرم. این نوشته در مورد ابزار انجام اینکار است." />
<link rel="canonical" href="https://mehdix.ir/irc-with-screen.html" />
<meta property="og:url" content="https://mehdix.ir/irc-with-screen.html" />
<meta property="og:site_name" content="مهدی صادقی" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-01-26T00:00:00+01:00" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@msadeghii" />
<meta name="twitter:creator" content="@مهدی صادقی" />
<script type="application/ld+json">
{"@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://mehdix.ir/irc-with-screen.html"},"url":"https://mehdix.ir/irc-with-screen.html","author":{"@type":"Person","name":"مهدی صادقی"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://mehdix.ir/assets/img/me.png"},"name":"مهدی صادقی"},"description":"من دوست دارم که در کانال‌های IRC پروژه‌های اینترنتی مورد علاقه‌ام حاضر شوم و از برنامه‌نویسان و کاربران آن پروژه‌ها برای شروع کار و رفع مشکلاتم کمک بگیرم. این نوشته در مورد ابزار انجام اینکار است.","headline":"پروتکل چت اینترنت و اسکرین","dateModified":"2016-01-26T00:00:00+01:00","datePublished":"2016-01-26T00:00:00+01:00","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  </head>

  <body><header>
  <div class="wrapper">
    <a class="site-title" href="https://mehdix.ir/">مهدی صادقی</a>
    <small id="motto"> در مورد نرم‌افزار و ایده‌هایم </small>
  </div>
</header>
<main>
      <div class="wrapper">

<article class="post-content">

  <div class="post-header">
    <h1 class="post-title">پروتکل چت اینترنت و اسکرین</h1>
    <p>
      <i class="fas fa-calendar"></i>
      سه‌شنبه ۰۶ بهمن ۱۳۹۴<br>
      
      <i class="fas fa-stopwatch"></i>
      ۴ دقیقه مطالعه
    </p>
  </div>

  <p>من دوست دارم که در کانال‌های IRC پروژه‌های اینترنتی مورد علاقه‌ام حاضر شوم و از برنامه‌نویسان و کاربران آن پروژه‌ها برای شروع کار و رفع مشکلاتم کمک بگیرم. این نوشته در مورد ابزار انجام اینکار است.</p>

<p>ماجرا از اتاق گفتگوی اینترنتی ‏<a href="http://tehlug.org">تهلاگ</a> شروع شد. گهگاه به این کانال سر می‌زدم اما با خاموش کردن کامپیوترم تاریخچه چت را از دست می‌دادم. (البته اگر اصلا چتی وجود داشت…) از طرفی باز نگه داشتن پنجره چت هم کار ساده‌ای نبود. در ضمن هرچه بیشتر با پروژه‌های آزاد اینترنتی آشنا می‌شدم می‌دیدم که بسیاری از کاربران قدیمی‌تر و هکرها و حرفه‌ای‌ها از پروتکل چت اینترنت (irc) استفاده می‌کنند و می‌توان با آنها از این طریق گفتگو کرد. پروژه‌های مورد علاقه‌ام همچون فایرفاکس و نوم (گنوم) هم هر کدام تعداد زیادی کانال دارند که هر یک به یک موضوع خاص اختصاص دارد. برای اینکه بتوانم در این کانال‌ها حاضر باشم ابزارهای مختلفی را امتحان کردم. اول با برنامه‌های گرافیکی شروع کردم: smuxi و xchat و chatzilla (که یک پلاگین فایرفاکس است) و در آخر هم سراغ یکی از برنامه‌های نوم رفتم بنام polari. اما هیچ‌کدام از اینها راضی‌ام نکرد. دست آخر راه حل دلخواهم را پیدا کردم: استفاده همزمان از <a href="https://www.gnu.org/software/screen/">screen</a> و <a href="https://irssi.org/">irssi</a>.</p>

<blockquote>
  <blockquote>
    <p>دست آخر راه حل دلخواهم را پیدا کردم: استفاده همزمان از screen و irssi روی یک سرور همیشه روشن مثلا رازبری‌پای.</p>
  </blockquote>
</blockquote>

<h2 id="gnu-screen">GNU Screen</h2>

<p>جدا از نیازهای بالا من می‌خواهم به همان کانال‌هایی که سر کارم وصل هستم در منزل هم دسترسی داشته باشم، آنهم با حداقل دردسر. مدتها بود که می‌دیدم عده‌ای در چت همیشه حضور دارند، برایم سوال بود که چطور؟ با جستجو در اینترنت فهمیدم که ابزاری وجود دارد به نام GNU Screen. این برنامه به ما امکان می‌دهد که یک shell روی سرور باز کنیم که وابسته به اتصال SSH ما نیست. یعنی با قطع شدن اتصال برنامه از بین نمی‌رود. این را می‌توان روی کامپیوتر شخصی هم اجرا کرد. یعنی به حال لینوکس که فرقی نمی‌کند. مثال رایج در سایت خود برنامه دانلود فایل است. مثلا فایلی حجیم در حال دانلود است (فرضا با wget) ولی ما می‌خواهیم اتصال SSH را قطع کنیم. در حالت عادی قطع این اتصال منجر به کشته شدن پروسه‌هایی خواهد شد که تحت آن در حال اجرا بوده‌اند و بنابراین دانلود ما هم نیمه‌ کاره قطع خواهد شد. راه حل رایج اجرا کردن screen بلافاصله بعد از اجرای شل است:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    mehdi@debian:~<span class="nv">$ </span>ssh mehdix.org
    mehdi@mehdix.org:~<span class="nv">$ </span>screen
    mehdi@mehdix.org:~<span class="err">$</span>
</code></pre></div></div>

<p>ظاهرا هیچ اتفاق خاصی نمی‌افتد. اما در حقیقت ما دیگر داخل screen هستیم. مثلا با اجرا فرمان زیر می‌توانیم این وضع را ببینیم:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mehdi@mehdix:~<span class="nv">$ </span>screen <span class="nt">-ls</span>
There are screens on:
        16746.pts-4.mehdix      <span class="o">(</span>01/26/2016 05:48:49 PM<span class="o">)</span>        <span class="o">(</span>Attached<span class="o">)</span>
        13084.pts-0.mehdix      <span class="o">(</span>01/25/2016 05:35:56 AM<span class="o">)</span>        <span class="o">(</span>Detached<span class="o">)</span>
2 Sockets <span class="k">in</span> /var/run/screen/S-mehdi.

</code></pre></div></div>

<p>در مثال بالا مشخص است که من دو پروسه‌ی اسکرین دارم (یکی قبل از نوشتن این مطلب باز بود). کلمه Attached یعنی که آن پروسه‌ی اسکرین در یک پنجره باز و فعال است. ما می‌توانیم با فشردن کلید <code class="highlighter-rouge">Ctrl + A</code> و بعد کلید <code class="highlighter-rouge">d</code> از اسکرین خارج بشویم. اگر اینکار را بکنید و بعد دستور <code class="highlighter-rouge">screen -ls</code> را اجرا کنید می‌بینید که بجای Attached نوشته می‌شود Detached. همانطور که در بالا می‌بینید من یک اسکرین detach شده هم از قبل دارم. اسکرین چند فرمان مهم دارد. یکی Ctrl و A است. همیشه برای اینکه اسکرین گوش به فرمان شود باید این ترکیب را فشار بدهیم. بعد به ترتیب:</p>

<ol>
  <li>w: پنجره‌‌های مجازی داخل اسکرین را لیست می‌کند</li>
  <li>d: بدون کشتن پروسه اسکرین فقط از آن جدا می‌شود</li>
  <li>A: اجازه می‌دهد یک نام برای آن پنجره مجازی اسکرین انتخاب کنیم</li>
  <li>w: پنجره‌ها را لیست می‌کند</li>
  <li>0-9: آن پنجره را در صورت وجود نمایش می‌دهد</li>
  <li>?: لیست دستورات اسکرین را نمایش می‌دهد</li>
  <li>c: یک پنجره جدید می‌سازد</li>
</ol>

<p>دستورات بالا داخل اسکرین بکار می‌روند. موقع اجرا اگر می‌خواهید به یک اسکرین موجود وصل بشوید کافیست دستور زیر را بزنید:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>screen <span class="nt">-r</span> <span class="nt">-d</span>
</code></pre></div></div>

<h2 id="irssi">irssi</h2>
<p>اسکرین قطعه اول پازل بود. قطعه‌ی بعدی یک برنامه‌ی چت زیبای تحت کنسول است. بله، تحت ترمینال! irssi بهترین برنامه‌ای چتی است که تابحال استفاده کرده‌ام. هیچ کدام از برنامه‌های گرافیکی قبلی برای من لذت کار با irssi را فراهم نکرده بودند. حالا کافیست بعد از اجرای اسکرین irssi را اجرا کنم:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Irssi v0.8.17 - http://www.irssi.org                                           
00:07 -!-  ___           _
00:07 -!- |_ _|_ _ _____<span class="o">(</span>_<span class="o">)</span>
00:07 -!-  | <span class="o">||</span> <span class="s1">'_(_-&lt;_-&lt; |
00:07 -!- |___|_| /__/__/_|
00:07 -!- Irssi v0.8.17 - http://www.irssi.org

 [00:07] [] [1]                                                                 
[(status)] 

</span></code></pre></div></div>

<p>دستورات مهم:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/connect SERVER <span class="c"># مثلا irc.freenode.net</span>
/server <span class="c"># لیست سرورهایی که به آنها وصلیم</span>
/join <span class="c">#channel # مثلا /join #tehlug</span>
/nick NICKNAME <span class="c"># برای انتخاب نیک</span>
/window close <span class="c"># بستن یک پنجره</span>
/help <span class="c"># نمایش داستورات موجود برنامه</span>
/help COMMAND_NAME <span class="c"># نمایش راهنمای دستور</span>
</code></pre></div></div>

<p>اگر به چند سرور وصل باشید با فشردن <code class="highlighter-rouge">Ctrl + X</code> می‌توان بین آنها حرکت کرد (سرور فعال عوض می‌شود). اگر چند پنجره باز کرده‌باشد (مثلا به چندین کانال وصل باشید) می‌توان با ترکیب کلید Alt و یک عدد از صفر تا نه بین پنجره‌های مجازی برنامه حرکت کرد. اگر می‌خواهید پیام‌های قدیمی‌تر را ببینید یا به اصطلاح backscroll کنید کلید Page Up/Down را بکار ببرید. در ضمن اگر دستوری تایپ کردید اما هیچ خروجی‌ای ندیدید گیچ نشوید، حتما خروجی در پنجره مجازی جداگانه‌ای درج شده است. کافیت با کلید Alt و اعداد بین پنجره‌ها حرکت کنید.</p>

<h2 id="ترمینال-معلّق">ترمینال معلّق</h2>
<p>من دوست دارم پنجره چت همیشه باز باشد از طرفی جلوی دست و پا نباشد! راه حلش هم یک ترمینال کشویی ساده است که هر وقت من کلید میانبر را فشار می‌دهم از بالای دسکتاپم سُر بخورد و بیاید پایین. من <a href="https://extensions.gnome.org/extension/442/drop-down-terminal/">Gnome Drop Down Terminal</a> را نصب کردم و irssi را همیشه آنجا باز می‌گذارم. شما هر چه دوست دارید نصب کنید!</p>

<p><img src="assets/pimg/irssi_drop_down.jpg" alt="image" /></p>

<h2 id="نتیجه-کلام">نتیجه کلام</h2>
<p>مطمئن باشید تکنیک‌های زیادی هست که من اینجا نگفتم و کلی چیز هم هست که اصلا نمی‌دانم. (چون قرار نیست همه چیز را یاد بگیرم، یاد گرفتن به قدر نیاز خودم کافی است.) به باور من استفاده موثر از irc دریچه‌ایست به سوی همکاری با هکرهایی که در گوشه و کنار دنیا مشغول کد زدن هستند. از طرف دیگر مهم است که تاریخچه چت را از دست نداد (پروتکل irc آنرا پشتیبانی نمی‌کند). بنابراین ترکیب irssi و اسکرین راه حلی است که می‌تواند هر دو این نیازها را برآورده کند.</p>



  

  <small id="post-tags">
    
      <i class="fas fa-tag"></i>
      <a rel="tag" href="/tag/%DA%86%D8%AA.html">چت</a>
    
      <i class="fas fa-tag"></i>
      <a rel="tag" href="/tag/irc.html">irc</a>
    
      <i class="fas fa-tag"></i>
      <a rel="tag" href="/tag/%D8%A7%D8%B3%DA%A9%D8%B1%DB%8C%D9%86.html">اسکرین</a>
    
      <i class="fas fa-tag"></i>
      <a rel="tag" href="/tag/screen.html">screen</a>
    

    <i class="fas fa-code"></i>
    
    
    <a href="https://raw.githubusercontent.com/mehdisadeghi/mehdix.ir/master/_source/_posts/2016-01-26-irc-with-screen.md">سورس</a>
    
  </small>

  <nav class="pagination">
    
      <a href="https://mehdix.ir/omar-khayyam-in-yaml-format.html" class="pagination--pager" title="انتشار ۱۰۶ رباعی خیام با فرمت YAML">قبلی</a>
    

    
      <a href="https://mehdix.ir/css-list-style-type.html" class="pagination--pager" title="لیستی با حروف ابجد">بعدی </a>
    
  </nav>

  <section>
    
      
<section id="static-comments">
  
  
  

  <form id="comment-form" name="comment" netlify-honeypot="bot-field" netlify>
    <input name="bot-field" style="display:none">
    <input name="page_id" style="display:none" value="/irc-with-screen">
    <input id="reply-to" name="reply-to" style="display:none">
    <label for="message">دیدگاه<sup class="required">*</sup> &nbsp;<small>می‌توانید با <a href="http://commonmark.org/help/" target="_">مارک‌داون</a> هم بنویسید.</small><br><small id="replyToVisualClue"></small>
      <textarea id="message" name="message" required alt="no!!" onkeyup="preview()"></textarea>
      <div id="preview"></div>
    </label>
    <label for="name">نام<sup class="required">*</sup>
      <input id="name" type="text" name="name" required>
    </label>
    <label for="email">ایمیل<sup class="required">*</sup>
      <input id="email" type="email" name="email" required>
    </label>
    <label for="website">وبسایت
      <input id="website" type="url" name="website">
    </label>
    <div style="text-align:left">
      <button type="submit" class="button">ارسال</button>
    </div>
  </form>

</section>
<script src="https://mehdix.ir/assets/js/showdown.min.js" type="text/javascript">
</script>
<script type="text/javascript">
  function preview() {
    var converter = new showdown.Converter();
    var markdown = document.getElementById("message").value;
    document.getElementById("preview").innerHTML = converter.makeHtml(markdown);
  }

  function replyTo(commentID) {
    var comment = document.getElementById(commentID);
    document.getElementById("reply-to").value = comment.querySelector("span[commentId]").innerText;
    document.getElementById("replyToVisualClue").innerText = "[در جواب " + comment.querySelector("span[commenter]").innerText + "]";
  }
</script>
    
  </section>

</article>
</div>
    </main><footer>

  <div class="wrapper">

    

    <p id="footer-description">بچه که بودیم همیشه برای بازی خونه می‌ساختیم. حالا هم نمونه‌اش رو در وب ساختم. اینجا سکوی انتشار مطالبی در مورد دانش تولید نرم‌افزار و ایده‌ها و علایق شخصی‌ام است، بویژه راه‌حل‌های مهندسی که باعث رشد و پیشرفتم شده است و می‌تواند مورد استفاده دیگران هم قرار بگیرد.
</p>

    <ul class="social-media-list">
      
      <li>
        <i class="fab fa-github"></i>
        <a href="https://github.com/mehdisadeghi">
          <span class="username social-media-text">پروژه‌ها</span>
        </a>
      </li>
      
      
      <li>
        <i class="fab fa-twitter-square"></i>
        <a href="https://twitter.com/msadeghii">
          <span class="username social-media-text">توئیت‌ها</span>
        </a>
      </li>
      
      
      <li>
        <i class="fas fa-rss"></i>
        <a href="https://feedburner.google.com/fb/a/mailverify?uri=mehdixir&amp;loc=en_US">
          <span class="username social-media-text">خبرنامه</span></a>
      </li>
      <li>
        <i class="fas fa-rss"></i>
        <a href="http://feeds.feedburner.com/mehdixir">
        <span class="username social-media-text">خوراک</span></a>
      </li>
      
      
        <li>
          <i class="fas fa-envelope-open"></i>
          <a href="mailto:sadeghi@mehdix.org">
            <span class="username social-media-text">تماس</span></a></li>
      
    </ul>

  <div id="footer-extra">
    <small id="license">
  <i class="fab fa-creative-commons"></i>
  مطالب این وبلاگ تحت مجوز
  <a rel="license" href="http://creativecommons.org/licenses/by/4.0/deed.fa">
    کریتیو کامنز اتریبیوشن ۴.۰ اینترنشنال
  </a>قرار دارد.
</small>
    <a id="atom" href="https://validator.w3.org/feed/check.cgi?url=https://mehdix.ir/feed.xml"><img src=https://mehdix.ir/assets/img/valid-atom.png alt="[Valid Atom 1.0]" title="Validate my Atom 1.0 feed" /></a>
  </div>

  </div>

  <small id="build-time">Site generated on Tue, 06 Feb 2018 02:43:37 +0100</small>

</footer><script src="https://mehdix.ir/assets/js/main.js"></script>
     <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-57282325-1', 'auto');
  ga('send', 'pageview');

</script>
 
  </body>
</html>