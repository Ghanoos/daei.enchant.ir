<!DOCTYPE html>
<html dir="rtl" lang="fa">
  
  <head><meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="author" content="مهدی صادقی" />
<meta name="copyright" content="Commons Attribution 4.0 International" />
<meta name="robot" content="" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="description" content="سکوی انتشار مطالبی در مورد دانش تولید نرم‌افزار و ایده‌ها و علایق شخصی‌ام." />

<link rel="canonical" href="https://mehdix.ir/publishing-with-jekyll.html" />
<link rel="icon" href="https://mehdix.ir/assets/img/me.png" />
<link rel="stylesheet" href="https://mehdix.ir/assets/css/main.css" />
<link rel="stylesheet" href="https://mehdix.ir/assets/fonts/fontawesomev5.0.2.css" />
<meta name="keywords" content='جکیل,صفحه‌بندی,pagination' /><title>صفحه‌بندی در جکیل - مهدی صادقی</title><!-- Begin Jekyll SEO tag v2.4.0 -->
<title>صفحه‌بندی در جکیل | مهدی صادقی</title>
<meta name="generator" content="Jekyll v3.7.2" />
<meta property="og:title" content="صفحه‌بندی در جکیل" />
<meta name="author" content="مهدی صادقی" />
<meta property="og:locale" content="fa_IR" />
<meta name="description" content="من تعطیلات امسالم را بجز بازی شطرنج به مطالعه و گنوم و وبسایتم اختصاص دادم. در نتیجه وبسایت تغییرات ظاهری مختصری داشت به همراه فعال شدن تگ‌ها و صفحه‌بندی." />
<meta property="og:description" content="من تعطیلات امسالم را بجز بازی شطرنج به مطالعه و گنوم و وبسایتم اختصاص دادم. در نتیجه وبسایت تغییرات ظاهری مختصری داشت به همراه فعال شدن تگ‌ها و صفحه‌بندی." />
<link rel="canonical" href="https://mehdix.ir/pagination.html" />
<meta property="og:url" content="https://mehdix.ir/pagination.html" />
<meta property="og:site_name" content="مهدی صادقی" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-01-02T00:00:00+01:00" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@msadeghii" />
<meta name="twitter:creator" content="@مهدی صادقی" />
<script type="application/ld+json">
{"@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://mehdix.ir/pagination.html"},"url":"https://mehdix.ir/pagination.html","author":{"@type":"Person","name":"مهدی صادقی"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://mehdix.ir/assets/img/me.png"},"name":"مهدی صادقی"},"description":"من تعطیلات امسالم را بجز بازی شطرنج به مطالعه و گنوم و وبسایتم اختصاص دادم. در نتیجه وبسایت تغییرات ظاهری مختصری داشت به همراه فعال شدن تگ‌ها و صفحه‌بندی.","headline":"صفحه‌بندی در جکیل","dateModified":"2016-01-02T00:00:00+01:00","datePublished":"2016-01-02T00:00:00+01:00","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  </head>

  <body><header>
  <div class="wrapper">
    <a class="site-title" href="https://mehdix.ir/">مهدی صادقی</a>
    <small id="motto"> در مورد نرم‌افزار و ایده‌هایم </small>
  </div>
</header>
<main>
      <div class="wrapper">

<article class="post-content">

  <div class="post-header">
    <h1 class="post-title">صفحه‌بندی در جکیل</h1>
    <p>
      <i class="fas fa-calendar"></i>
      شنبه ۱۲ دی ۱۳۹۴<br>
      
      <i class="fas fa-stopwatch"></i>
      ۳ دقیقه مطالعه
    </p>
  </div>

  <p>من تعطیلات امسالم را بجز بازی شطرنج به مطالعه و گنوم و وبسایتم اختصاص دادم. در نتیجه وبسایت تغییرات ظاهری مختصری داشت به همراه فعال شدن تگ‌ها و صفحه‌بندی.</p>

<h2 id="تعطیلات-سال-نو">تعطیلات سال نو</h2>
<p>این روزها در آلمان و بسیاری از نقاط جهان تعطیلات سال نو است. موسسات و ادارات و شرکت‌ها یا تعطیل هستند یا مثل ایام نوروز در ایران کار می‌کنند. بسیاری از دوستان و همکاران نیز یا جهت سپری ایام کریسمس نزد خانواده‌هایشان رفته‌اند یا اینکه فرصت را غنیمت شمرده و سفری برای خودشان ترتیب داده‌اند. من هم از ۲۴ دسامبر تا روز چهارم ژانویه تعطیل هستم. بنابراین من هم وقت کافی داشتم که به خیلی از خرده کارهای معوّق رسیدگی کنم و به قول معروف <code class="highlighter-rouge">Get Things Done (GTD)</code> کنم. از این فرصت هم استفاده می‌کنم و به خواننده این مطلب به دلیل اینکه خارج از ایران زندگی می‌کند و یا در ایران است اما به هر دلیل با تقویم میلادی زندگی می‌کند یا آنرا دنبال می‌کند سال نو را تبریک می‌گویم.</p>

<h2 id="صفحهبندی">صفحه‌بندی</h2>
<p>منظور من از صفحه‌بندی اضافه‌کردن لینک‌هایی به پست‌های وبسایت است که بتوان با کلیک روی آنها به مطلب قبلی یا بعدی مراجعه کرد. معمولا رایج است که تعدادی پست را در صفحه اصلی وبسایت نمایش می‌دهند و در انتها نیز لینکی به صفحه بعدی می‌گذارند که شامل تعداد دیگری پست است. البته من در صفحه اصلی در حال حاضر فقط لیستی موجز از مطالب نمایش می‌دهم و این قابلیت را هنوز فعال نکرده‌ام و به همان لینک مطالب قبلی و بعدی در پای پست‌ها اکتفا کرده‌ام. ولی هر دو را شرح می‌دهم.</p>

<p>جکیل به صورت پیش‌فرض از صفحه‌بندی پشتیبانی می‌کند، فقط کافیست آنرا در فایل <code class="highlighter-rouge">_config.yml</code> فعال کنید:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">paginate</span><span class="pi">:</span> <span class="s">5</span>
<span class="na">paginate_path</span><span class="pi">:</span> <span class="s2">"</span><span class="s">/page:num/"</span>
</code></pre></div></div>

<p>اولی یعنی پنج مطلب در هر صفحه نمایش بده و دیگری هم فرمت لینک هر صفحه است. اما هنوز یک قدم تا داشتن صفحه‌بندی مانده است. باید تغییراتی در قالب سایت بدهیم. من تغییرات زیر را در فایل <code class="highlighter-rouge">index.html</code> انجام می‌دهم تا فقط پنج پست در صفحه اصلی نمایش داده بشود.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
---
layout: default
---

<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"home"</span><span class="nt">&gt;</span>

  <span class="nt">&lt;h1</span> <span class="na">class=</span><span class="s">"page-heading"</span><span class="nt">&gt;</span>❖<span class="err">&amp;</span>nbsp چکیده‌ی آخرین نوشته‌ها<span class="nt">&lt;/h1&gt;</span>

  <span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">"post-list"</span><span class="nt">&gt;</span>
    {% for post in paginator.posts %}
      <span class="nt">&lt;li&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"post-meta"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"date"</span><span class="nt">&gt;</span>{{ post.date | jdate: "%A %d %b %Y" | habify }}
        <span class="nt">&lt;/span&gt;&lt;/span&gt;</span>

        <span class="nt">&lt;h2&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"post-link"</span> 
            <span class="na">href=</span><span class="s">"{{ site.baseurl | urljoin: post.url}}"</span><span class="nt">&gt;</span>{{ post.title }}<span class="nt">&lt;/a&gt;</span>
        <span class="nt">&lt;/h2&gt;</span>
        {{ post.excerpt }}
      <span class="nt">&lt;/li&gt;</span>
    {% endfor %}
  <span class="nt">&lt;/ul&gt;</span>
</code></pre></div></div>

<p>می‌بینید که مهمترین تغییر استفاده از <code class="highlighter-rouge">paginator.posts</code> بجای <code class="highlighter-rouge">site.posts</code> است. خلاصه مطلب اینست که متغیر گلوبال <code class="highlighter-rouge">paginator</code> حاوی همه‌ی اطلاعاتی است که ما احتیاج داریم. برای نمایش یک لیست کوچک در انتهای صفحه هم کد زیر را به انتهای فایل اضافه می‌کنم. در این مورد هم از همین متغیر استفاده کرده‌ام.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c">&lt;!-- Pagination links --&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"pagination center"</span><span class="nt">&gt;</span>
  {% if paginator.previous_page %}
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"{{ paginator.previous_page_path }}"</span> <span class="na">class=</span><span class="s">"previous"</span><span class="nt">&gt;</span>جدیدتر<span class="nt">&lt;/a&gt;</span>
  {% else %}
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"previous"</span><span class="nt">&gt;</span>جدیدتر ندارد<span class="nt">&lt;/span&gt;</span>
  {% endif %}
  <span class="err">&amp;</span>nbsp❖<span class="err">&amp;</span>nbsp<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"page_number "</span><span class="nt">&gt;</span>
  برگه‌ی {{ paginator.page | habify}} از {{ paginator.total_pages | habify}}
  <span class="nt">&lt;/span&gt;</span> 
  <span class="err">&amp;</span>nbsp❖<span class="err">&amp;</span>nbsp
  {% if paginator.next_page %}
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"{{ paginator.next_page_path }}"</span> <span class="na">class=</span><span class="s">"next"</span><span class="nt">&gt;</span>قدیمی‌تر<span class="nt">&lt;/a&gt;</span>
  {% else %}
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"next "</span><span class="nt">&gt;</span>قدیمی‌تر ندارد<span class="nt">&lt;/span&gt;</span>
  {% endif %}
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<p>در این مورد هم می‌بینید که تعداد کل برگه‌های موجود را از <code class="highlighter-rouge">paginator.page</code> می‌خوانم و وجود صفحه قبلی و بعدی را هم از <code class="highlighter-rouge">paginator.previous_page</code> و <code class="highlighter-rouge">paginator.next_page</code> می‌خوانم. شماره برگه‌ی فعلی هم در <code class="highlighter-rouge">paginator.page</code> موجود است.</p>

<p>در ضمن از بکارگیری فیلتری بنام ‫‫<em>habify</em> تعجب نکنید. این یک پلاگین کوچک است برای تبدیل کردن ارقام لاتین به معادل فارسی که در دایرکتوری <code class="highlighter-rouge">_plugins/hinduarabic.rb</code> پیدایش می‌کنید.</p>

<h2 id="لینک-به-پستهای-قبلی-و-بعدی">لینک به پست‌های قبلی و بعدی</h2>
<p>الان اگر هر پستی را باز کنید پای هر مطلب دو لینک وجود دارد که به ترتیب زمانی نوشته شدن به مطالب قبلی و بعدی اشاره می‌کنند. اضافه کردن این‌ها خیلی ساده است و فقط کافیست از اطلاعات موجود در متغیر گلوبال <code class="highlighter-rouge">page</code> استفاده کنیم.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
  <span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">"border-top:1px dotted;"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;p&gt;</span>
      {% if page.next %}
      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"{{ page.next.url }}"</span> <span class="na">style=</span><span class="s">"float: left"</span><span class="nt">&gt;</span> 
        {{ page.next.title }} &gt;&gt; <span class="nt">&lt;/a&gt;</span>
      {% endif %}

      {% if page.previous %}
      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"{{ page.previous.url }}"</span> <span class="na">style=</span><span class="s">"margin-right:0px;"</span><span class="nt">&gt;</span>
        <span class="err">&amp;</span>#60<span class="err">&amp;</span>#60	 {{ page.previous.title }}<span class="nt">&lt;/a&gt;</span>
      {% endif %}
    <span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<p>تنها چیزی که در قطعه کد بالا نیاز به توضیح دارد <code class="highlighter-rouge">&amp;#60&amp;#60</code> است. آنهم چیزی نیست دوبار تکرار کد اسکی کاراکتر <code class="highlighter-rouge">&lt;</code> چرا که در صورت وارد کردن این کاراکتر پارس کردن صفحه توسط مرورگر دچار اختلال می‌شود (چرا که آن را با یک شروع یک تگ html اشتباه می‌گیرد).</p>

<p>برای شرح کامل صفحه‌بندی به <a href="http://jekyllrb.com/docs/pagination/">مستندات جکیل</a> مراجعه کنید.</p>


  
    <div id="related-posts">
      <h3>مطالب مرتبط</h3>
      <ul>
        
          <li><a href="/build-faster.html">بیلد سریع‌تر وبسایت</a></li>
        
          <li><a href="/theme-rework.html">دوباره‌نویسی تم وبسایت</a></li>
        
          <li><a href="/seo.html">افزودن متادیتا به تم وبسایت</a></li>
        
          <li><a href="/merciless-simplification.html">کاهش زمان بیلد به کمک پروفایلر</a></li>
        
          <li><a href="/jekyll-theme.html">انتشار قالب جکیلِ وبسایت</a></li>
        
        </ul>
    </div>
  

  <small id="post-tags">
    
      <i class="fas fa-tag"></i>
      <a rel="tag" href="/tag/%D8%AC%DA%A9%DB%8C%D9%84.html">جکیل</a>
    
      <i class="fas fa-tag"></i>
      <a rel="tag" href="/tag/%D8%B5%D9%81%D8%AD%D9%87%E2%80%8C%D8%A8%D9%86%D8%AF%DB%8C.html">صفحه‌بندی</a>
    
      <i class="fas fa-tag"></i>
      <a rel="tag" href="/tag/pagination.html">pagination</a>
    

    <i class="fas fa-code"></i>
    
    
    <a href="https://raw.githubusercontent.com/mehdisadeghi/mehdix.ir/master/_source/_posts/2016-01-02-pagination.md">سورس</a>
    
  </small>

  <nav class="pagination">
    
      <a href="https://mehdix.ir/css-list-style-type.html" class="pagination--pager" title="لیستی با حروف ابجد">قبلی</a>
    

    
      <a href="https://mehdix.ir/link-tagging.html" class="pagination--pager" title="برچسب‌زنی به لینک‌ها">بعدی </a>
    
  </nav>

  <section>
    
      
<section id="static-comments">
  
  
  

  <form id="comment-form" name="comment" netlify-honeypot="bot-field" netlify>
    <input name="bot-field" style="display:none">
    <input name="page_id" style="display:none" value="/pagination">
    <input id="reply-to" name="reply-to" style="display:none">
    <label for="message">دیدگاه<sup class="required">*</sup> &nbsp;<small>می‌توانید با <a href="http://commonmark.org/help/" target="_">مارک‌داون</a> هم بنویسید.</small><br><small id="replyToVisualClue"></small>
      <textarea id="message" name="message" required alt="no!!" onkeyup="preview()"></textarea>
      <div id="preview"></div>
    </label>
    <label for="name">نام<sup class="required">*</sup>
      <input id="name" type="text" name="name" required>
    </label>
    <label for="email">ایمیل<sup class="required">*</sup>
      <input id="email" type="email" name="email" required>
    </label>
    <label for="website">وبسایت
      <input id="website" type="url" name="website">
    </label>
    <div style="text-align:left">
      <button type="submit" class="button">ارسال</button>
    </div>
  </form>

</section>
<script src="https://mehdix.ir/assets/js/showdown.min.js" type="text/javascript">
</script>
<script type="text/javascript">
  function preview() {
    var converter = new showdown.Converter();
    var markdown = document.getElementById("message").value;
    document.getElementById("preview").innerHTML = converter.makeHtml(markdown);
  }

  function replyTo(commentID) {
    var comment = document.getElementById(commentID);
    document.getElementById("reply-to").value = comment.querySelector("span[commentId]").innerText;
    document.getElementById("replyToVisualClue").innerText = "[در جواب " + comment.querySelector("span[commenter]").innerText + "]";
  }
</script>
    
  </section>

</article>
</div>
    </main><footer>

  <div class="wrapper">

    

    <p id="footer-description">بچه که بودیم همیشه برای بازی خونه می‌ساختیم. حالا هم نمونه‌اش رو در وب ساختم. اینجا سکوی انتشار مطالبی در مورد دانش تولید نرم‌افزار و ایده‌ها و علایق شخصی‌ام است، بویژه راه‌حل‌های مهندسی که باعث رشد و پیشرفتم شده است و می‌تواند مورد استفاده دیگران هم قرار بگیرد.
</p>

    <ul class="social-media-list">
      
      <li>
        <i class="fab fa-github"></i>
        <a href="https://github.com/mehdisadeghi">
          <span class="username social-media-text">پروژه‌ها</span>
        </a>
      </li>
      
      
      <li>
        <i class="fab fa-twitter-square"></i>
        <a href="https://twitter.com/msadeghii">
          <span class="username social-media-text">توئیت‌ها</span>
        </a>
      </li>
      
      
      <li>
        <i class="fas fa-rss"></i>
        <a href="https://feedburner.google.com/fb/a/mailverify?uri=mehdixir&amp;loc=en_US">
          <span class="username social-media-text">خبرنامه</span></a>
      </li>
      <li>
        <i class="fas fa-rss"></i>
        <a href="http://feeds.feedburner.com/mehdixir">
        <span class="username social-media-text">خوراک</span></a>
      </li>
      
      
        <li>
          <i class="fas fa-envelope-open"></i>
          <a href="mailto:sadeghi@mehdix.org">
            <span class="username social-media-text">تماس</span></a></li>
      
    </ul>

  <div id="footer-extra">
    <small id="license">
  <i class="fab fa-creative-commons"></i>
  مطالب این وبلاگ تحت مجوز
  <a rel="license" href="http://creativecommons.org/licenses/by/4.0/deed.fa">
    کریتیو کامنز اتریبیوشن ۴.۰ اینترنشنال
  </a>قرار دارد.
</small>
    <a id="atom" href="https://validator.w3.org/feed/check.cgi?url=https://mehdix.ir/feed.xml"><img src=https://mehdix.ir/assets/img/valid-atom.png alt="[Valid Atom 1.0]" title="Validate my Atom 1.0 feed" /></a>
  </div>

  </div>

  <small id="build-time">Site generated on Tue, 06 Feb 2018 02:43:37 +0100</small>

</footer><script src="https://mehdix.ir/assets/js/main.js"></script>
     <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-57282325-1', 'auto');
  ga('send', 'pageview');

</script>
 
  </body>
</html>