<!DOCTYPE html>
<html dir="rtl" lang="fa">
  
  <head><meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="author" content="مهدی صادقی" />
<meta name="copyright" content="Commons Attribution 4.0 International" />
<meta name="robot" content="" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="description" content="سکوی انتشار مطالبی در مورد دانش تولید نرم‌افزار و ایده‌ها و علایق شخصی‌ام." />

<link rel="canonical" href="https://mehdix.ir/publishing-with-jekyll.html" />
<link rel="icon" href="https://mehdix.ir/assets/img/me.png" />
<link rel="stylesheet" href="https://mehdix.ir/assets/css/main.css" />
<link rel="stylesheet" href="https://mehdix.ir/assets/fonts/fontawesomev5.0.2.css" />
<meta name="keywords" content='خیام,رباعی,دیتا,data,yaml' /><title>انتشار ۱۰۶ رباعی خیام با فرمت YAML - مهدی صادقی</title><!-- Begin Jekyll SEO tag v2.4.0 -->
<title>انتشار ۱۰۶ رباعی خیام با فرمت YAML | مهدی صادقی</title>
<meta name="generator" content="Jekyll v3.7.2" />
<meta property="og:title" content="انتشار ۱۰۶ رباعی خیام با فرمت YAML" />
<meta name="author" content="مهدی صادقی" />
<meta property="og:locale" content="fa_IR" />
<meta name="description" content="وب فارسی از نظر دسترسی به داده‌های دارای متادیتا خیلی ضعیف است. داده اگر هم وجود داشته باشد ساختار ندارد. این شد که کتاب کوچک خیام خودم را به فرمت YAML درآوردم." />
<meta property="og:description" content="وب فارسی از نظر دسترسی به داده‌های دارای متادیتا خیلی ضعیف است. داده اگر هم وجود داشته باشد ساختار ندارد. این شد که کتاب کوچک خیام خودم را به فرمت YAML درآوردم." />
<link rel="canonical" href="https://mehdix.ir/omar-khayyam-in-yaml-format.html" />
<meta property="og:url" content="https://mehdix.ir/omar-khayyam-in-yaml-format.html" />
<meta property="og:site_name" content="مهدی صادقی" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-01-29T00:00:00+01:00" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@msadeghii" />
<meta name="twitter:creator" content="@مهدی صادقی" />
<script type="application/ld+json">
{"@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://mehdix.ir/omar-khayyam-in-yaml-format.html"},"url":"https://mehdix.ir/omar-khayyam-in-yaml-format.html","author":{"@type":"Person","name":"مهدی صادقی"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://mehdix.ir/assets/img/me.png"},"name":"مهدی صادقی"},"description":"وب فارسی از نظر دسترسی به داده‌های دارای متادیتا خیلی ضعیف است. داده اگر هم وجود داشته باشد ساختار ندارد. این شد که کتاب کوچک خیام خودم را به فرمت YAML درآوردم.","headline":"انتشار ۱۰۶ رباعی خیام با فرمت YAML","dateModified":"2016-01-29T00:00:00+01:00","datePublished":"2016-01-29T00:00:00+01:00","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  </head>

  <body><header>
  <div class="wrapper">
    <a class="site-title" href="https://mehdix.ir/">مهدی صادقی</a>
    <small id="motto"> در مورد نرم‌افزار و ایده‌هایم </small>
  </div>
</header>
<main>
      <div class="wrapper">

<article class="post-content">

  <div class="post-header">
    <h1 class="post-title">انتشار ۱۰۶ رباعی خیام با فرمت YAML</h1>
    <p>
      <i class="fas fa-calendar"></i>
      جمعه ۰۹ بهمن ۱۳۹۴<br>
      
      <i class="fas fa-stopwatch"></i>
      ۲ دقیقه مطالعه
    </p>
  </div>

  <p>وب فارسی از نظر دسترسی به داده‌های دارای متادیتا خیلی ضعیف است. داده اگر هم وجود داشته باشد ساختار ندارد. این شد که کتاب کوچک خیام خودم را به فرمت <a href="http://yaml.org/">YAML</a> درآوردم.</p>

<h2 id="متادیتا">متادیتا</h2>
<p>متادیتا یعنی داده راجع به داده. یعنی وقتی ماشین داده‌ها را می‌خواند می‌تواند بفهمد آنها به چه دردی می‌خورند. مثلا یک صوتی با فرمت mp3 را در نظر بگیریم. طبق تعریف این فرمت امکان ذخیره داده‌هایی غیر از اصوات در این فایل هست. مثلا نام آلبوم، آهنگساز، ژانر و مانند اینها. حالا اگر یک آرشیو موسیقی داشته باشیم که متادیتا هم داشته باشد برنامه‌های مختلف می‌توانند در جستجو به ما کمک کنند. ولی در نبود این متادیتا همه فایل‌ها شبیه به هم هستند. باید هر یک را باز کرد و گوش کرد تا فهمید داخلش چیست. بگذریم از اینکه هوش مصنوعی امروز می‌تواند آنها را هم گوش بکند و نتیجه بگیرد داخلش چیست. در نبود متادیتا داده‌ها را در نازل‌ترین شکل خود بکار می‌گیریم.</p>

<p>آنچه در مورد مورد متادیتا گفتم راجع به اشعار هم صدق می‌کند. مثلا اگر جستجوی در وب فارسی بزنید کلی وبسایت و وبلاگ پیدا می‌کنید که اشعار را به صورت پراکنده یا دسته‌بندی شده روی سایت قرار داده‌اند. اما هیچ کجا رباعیات خیام را در یک فرمت ماشین‌پسند مانند YAML یا JSON به همراه یک لایسنس آزاد پیدا نکردم. مثلا صدها بیت شعر که در وب کپی شده‌اند به درد من نمی‌خورند. من اشعاری می‌خواهم با ذکر منبع و دارای مجوز استفاده آزاد و در یک قالبی که براحتی بتوان در یک برنامه از آن استفاده کرد.</p>

<h2 id="۱۰۶-رباعی">۱۰۶ رباعی</h2>
<p>من مدتهاست کتاب کوچکی دارم که ۱۰۶ رباعی خیام را در خود جا داده است. کتاب «رباعیات عمر خیّام» نام دارد و حاصل کوشش «محسن مجید تجریشی» است. طی روزهای گذشته نشستم و کل رباعی‌ها را در یک فایل YAML پیاده کردم. فایل حاوی رباعی‌ها را در یک مخزن روی گیت‌هاب آپلود کرده‌ام که می‌توانید آنرا <a href="https://github.com/mehdisadeghi/khayyam/blob/master/khayyam.yaml">دانلود</a> و استفاده کنید. مجوز هم داخل فایل ذکر شده است.</p>

<p>فایل حاوی چند فیلد برای روشن کردن هدف فایل و لایسنس و منابع است. سپس یک فیلد بنام ‘RUBAIYAT’ وجود دارد که به ترتیب شماره از ۱ تا ۱۰۶ رباعی‌ها را در خود جا داده است. هر رباعی چهار مصرع دارد که با حروف A و B و C و D از یکدیگر متمایز شده‌اند. در پایتون می‌توان با پکیج <code class="highlighter-rouge">pyyaml</code> فایل YAML را خواند:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">yaml</span> <span class="kn">import</span> <span class="n">CLoader</span> <span class="k">as</span> <span class="n">Loader</span><span class="p">,</span> <span class="n">CDumper</span> <span class="k">as</span> <span class="n">Dumper</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">yaml</span> <span class="kn">import</span> <span class="n">load</span><span class="p">,</span> <span class="n">dump</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">'khayyam.yaml'</span><span class="p">,</span> <span class="s">'r'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span> <span class="o">=</span> <span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">Loader</span><span class="o">=</span><span class="n">Loader</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="p">[</span><span class="s">'License'</span><span class="p">,</span> <span class="s">'Reference'</span><span class="p">,</span> <span class="s">'Author'</span><span class="p">,</span> <span class="s">'Introduction'</span><span class="p">,</span> <span class="s">'RUBAIYAT'</span><span class="p">,</span> <span class="s">'Version'</span><span class="p">,</span> <span class="s">'KHAYYAM'</span><span class="p">,</span> <span class="s">'Resources'</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span> <span class="n">data</span><span class="p">[</span><span class="s">'RUBAIYAT'</span><span class="p">][</span><span class="mi">93</span><span class="p">][</span><span class="s">'A'</span><span class="p">]</span>
<span class="err">ایکاش</span> <span class="err">که</span> <span class="err">جای</span> <span class="err">آرمیدن</span> <span class="err">بودی</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span> <span class="n">data</span><span class="p">[</span><span class="s">'RUBAIYAT'</span><span class="p">][</span><span class="mi">93</span><span class="p">][</span><span class="s">'B'</span><span class="p">]</span>
<span class="err">یا</span> <span class="err">این</span> <span class="err">رهِ</span> <span class="err">دور</span> <span class="err">را</span> <span class="err">رسیدن</span> <span class="err">بودی</span>
<span class="o">&gt;&gt;&gt;</span>
</code></pre></div></div>

<p>اگر از konsole یا mlterm استفاده کنید رباعی‌ها به درستی در ترمینال نمایش داده می‌شوند. در ترمینال نوم (گنوم) هم می‌شود با دستور fribidi حرف‌ها را به هم چسبیده نمایش داد.</p>

<h2 id="قدمهای-بعدی">قدم‌های بعدی</h2>
<p>حالا که داده خام به قالب مناسب در دست است می‌توان از آن در ساختن برنامه‌های دیگری استفاده کرد. مثلا نمایش رندم یک رباعی. یا نمایش یک رباعی که حاوی کلمه خاصی است. یا نوشتن یک بوت تلگرام که این کارها را برای ما انجام بدهد.</p>


  
    <div id="related-posts">
      <h3>مطالب مرتبط</h3>
      <ul>
        
          <li><a href="/iran-constitution.html">قانون اساسی به فرم YAML</a></li>
        
        </ul>
    </div>
  

  <small id="post-tags">
    
      <i class="fas fa-tag"></i>
      <a rel="tag" href="/tag/%D8%AE%DB%8C%D8%A7%D9%85.html">خیام</a>
    
      <i class="fas fa-tag"></i>
      <a rel="tag" href="/tag/%D8%B1%D8%A8%D8%A7%D8%B9%DB%8C.html">رباعی</a>
    
      <i class="fas fa-tag"></i>
      <a rel="tag" href="/tag/%D8%AF%DB%8C%D8%AA%D8%A7.html">دیتا</a>
    
      <i class="fas fa-tag"></i>
      <a rel="tag" href="/tag/data.html">data</a>
    
      <i class="fas fa-tag"></i>
      <a rel="tag" href="/tag/yaml.html">yaml</a>
    

    <i class="fas fa-code"></i>
    
    
    <a href="https://raw.githubusercontent.com/mehdisadeghi/mehdix.ir/master/_source/_posts/2016-01-29-omar-khayyam-in-yaml-format.md">سورس</a>
    
  </small>

  <nav class="pagination">
    
      <a href="https://mehdix.ir/free-https-for-all.html" class="pagination--pager" title="گواهینامه SSL/TLS مجّانی برای همه">قبلی</a>
    

    
      <a href="https://mehdix.ir/irc-with-screen.html" class="pagination--pager" title="پروتکل چت اینترنت و اسکرین">بعدی </a>
    
  </nav>

  <section>
    
      
<section id="static-comments">
  
  
  
  <h4 id="comments-header">دیدگاه‌ها</h4>
  <div id="comments">
    
    <div class="comment-chain">
      <article id="3260043871">
        <div class="comment-image-wrapper">
          <img class="comment-avatar" src="https://www.gravatar.com/avatar/afd9156a3d9e4e1f44d646a2b6b86c4e?s=200&d=robohash" />
        </div>
        <div class="comment-body-wrapper">
          <span class="comment-meta">
            <small>
              
                <span commenter>دانیل</span>
              
            </small>
            <small> &nbsp; <a href="#3260043871">۲۸ فروردین ۱۳۹۶</a></small>
            <small> &nbsp; <a href="#comment-form" onclick="replyTo('3260043871')">پاسخ</a></small>
            <span style="display:none" commentId>3260043871</span>
          </span>
          <p>پست جالبی بود. تشکر بابت زحمتی که کشیدید.</p>

        </div>
      </article>

        

    </div>
    
  </div>
  

  <form id="comment-form" name="comment" netlify-honeypot="bot-field" netlify>
    <input name="bot-field" style="display:none">
    <input name="page_id" style="display:none" value="/omar-khayyam-in-yaml-format">
    <input id="reply-to" name="reply-to" style="display:none">
    <label for="message">دیدگاه<sup class="required">*</sup> &nbsp;<small>می‌توانید با <a href="http://commonmark.org/help/" target="_">مارک‌داون</a> هم بنویسید.</small><br><small id="replyToVisualClue"></small>
      <textarea id="message" name="message" required alt="no!!" onkeyup="preview()"></textarea>
      <div id="preview"></div>
    </label>
    <label for="name">نام<sup class="required">*</sup>
      <input id="name" type="text" name="name" required>
    </label>
    <label for="email">ایمیل<sup class="required">*</sup>
      <input id="email" type="email" name="email" required>
    </label>
    <label for="website">وبسایت
      <input id="website" type="url" name="website">
    </label>
    <div style="text-align:left">
      <button type="submit" class="button">ارسال</button>
    </div>
  </form>

</section>
<script src="https://mehdix.ir/assets/js/showdown.min.js" type="text/javascript">
</script>
<script type="text/javascript">
  function preview() {
    var converter = new showdown.Converter();
    var markdown = document.getElementById("message").value;
    document.getElementById("preview").innerHTML = converter.makeHtml(markdown);
  }

  function replyTo(commentID) {
    var comment = document.getElementById(commentID);
    document.getElementById("reply-to").value = comment.querySelector("span[commentId]").innerText;
    document.getElementById("replyToVisualClue").innerText = "[در جواب " + comment.querySelector("span[commenter]").innerText + "]";
  }
</script>
    
  </section>

</article>
</div>
    </main><footer>

  <div class="wrapper">

    

    <p id="footer-description">بچه که بودیم همیشه برای بازی خونه می‌ساختیم. حالا هم نمونه‌اش رو در وب ساختم. اینجا سکوی انتشار مطالبی در مورد دانش تولید نرم‌افزار و ایده‌ها و علایق شخصی‌ام است، بویژه راه‌حل‌های مهندسی که باعث رشد و پیشرفتم شده است و می‌تواند مورد استفاده دیگران هم قرار بگیرد.
</p>

    <ul class="social-media-list">
      
      <li>
        <i class="fab fa-github"></i>
        <a href="https://github.com/mehdisadeghi">
          <span class="username social-media-text">پروژه‌ها</span>
        </a>
      </li>
      
      
      <li>
        <i class="fab fa-twitter-square"></i>
        <a href="https://twitter.com/msadeghii">
          <span class="username social-media-text">توئیت‌ها</span>
        </a>
      </li>
      
      
      <li>
        <i class="fas fa-rss"></i>
        <a href="https://feedburner.google.com/fb/a/mailverify?uri=mehdixir&amp;loc=en_US">
          <span class="username social-media-text">خبرنامه</span></a>
      </li>
      <li>
        <i class="fas fa-rss"></i>
        <a href="http://feeds.feedburner.com/mehdixir">
        <span class="username social-media-text">خوراک</span></a>
      </li>
      
      
        <li>
          <i class="fas fa-envelope-open"></i>
          <a href="mailto:sadeghi@mehdix.org">
            <span class="username social-media-text">تماس</span></a></li>
      
    </ul>

  <div id="footer-extra">
    <small id="license">
  <i class="fab fa-creative-commons"></i>
  مطالب این وبلاگ تحت مجوز
  <a rel="license" href="http://creativecommons.org/licenses/by/4.0/deed.fa">
    کریتیو کامنز اتریبیوشن ۴.۰ اینترنشنال
  </a>قرار دارد.
</small>
    <a id="atom" href="https://validator.w3.org/feed/check.cgi?url=https://mehdix.ir/feed.xml"><img src=https://mehdix.ir/assets/img/valid-atom.png alt="[Valid Atom 1.0]" title="Validate my Atom 1.0 feed" /></a>
  </div>

  </div>

  <small id="build-time">Site generated on Tue, 06 Feb 2018 02:43:37 +0100</small>

</footer><script src="https://mehdix.ir/assets/js/main.js"></script>
     <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-57282325-1', 'auto');
  ga('send', 'pageview');

</script>
 
  </body>
</html>